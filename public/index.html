<!DOCTYPE html>

<html>

<head>
    <title>Student Data Analysis</title>
    <link href="http://fonts.googleapis.com/css?family=Roboto:400,500" rel="stylesheet" type="text/css">
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>     -->


    <link href="/public/css/main.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/public/css/awesomplete.css" />
</head>

<body>
    <div class="container">
        <br />
        <br />
        <p class="clementine-text">Student Data Analysis</p>
    </div>

    <div class="container">
        
        <!-- <div class="ui search">
            <div class="ui icon input">
                <input class="prompt" type="text" placeholder="Search countries...">
                <i class="search icon"></i>
            </div>
            <div class="results"></div>        
        </div> -->
        
        <br />
        <!-- 
        <form id="uploadFileForm"
         enctype="multipart/form-data"
         action="/api/photo"
         method="post">
            <input type="file" name="userPhoto" />
            <input type="submit" value="Upload Image" name="submit">
            <span id = "uploadStatus"></span>
        </form>
        <br />
        <button class="btn btn-success" id="btn-upload-file">Upload File</button>
        -->
        <br />
        <br />
        <div class="btn-container">            
            <button type="submit" class="btn" id="btn-begin">Begin!</button>
            <button id='btn-reset-data' class="btn btn-delete">Reset Data</button>
        </div>
        <br />
        <br />
        <span id="show-data-avg">TEMP TEXT!!!!</span>
        <br />
        <br />
        <p style="float: left; margin-right: 20px">What is the average...</p>
        <input id="searchX" class="awesomplete dropdown-input"/>
        <button class='dropdown-btn-x'>Options</button>
        <br />
        <br />
        <p style="float: left; margin-right: 20px">given ....</p>
        <input id="searchY" class="awesomplete dropdown-input"/>
        <button class='dropdown-btn-y'>Options</button>
        <br />
        <br />
        <button class="btn btn-warning" id="btn-calc-avg">Calculate Average</button>
        <br />
        <br />
        <button class="btn" id="btn-make-graph">Graph It!</button>
    </div>    
    <script type="text/javascript" src="public/dataController.client.js"></script>
    <script src="/public/js/awesomplete.js"></script>
    <script>
        var keys = ['school', 'sex', 'age', 'address', 'famsize', 'Pstatus', 'Medu', 'Fedu',
  'Mjob', 'Fjob', 'reason', 'guardian', 'traveltime', 'studytime', 'failures', 'schoolsup', 'famsup',
  'paid', 'activities', 'nursery', 'higher', 'internet', 'romantic', 'famrel', 'freetime', 'goout',
  'Dalc', 'Walc', 'health', 'absences', 'G1', 'G2', 'G3'];

        var inputX = document.getElementById("searchX");        
        var combopleteX = new Awesomplete(inputX, {
            //TODO: Don't hardcode this.
            list: keys,
            minChars: 0,
            maxItems: keys.length,
        });
        Awesomplete.$('.dropdown-btn-x').addEventListener("click", function() {
            if (combopleteX.ul.childNodes.length === 0) {
                combopleteX.minChars = 0;
                combopleteX.evaluate();
            }
            else if (combopleteX.ul.hasAttribute('hidden')) {
                combopleteX.open();
            }
            else {
                combopleteX.close();
            }
        });

        var inputY = document.getElementById("searchY");        
        var combopleteY = new Awesomplete(inputY, {
            //TODO: Don't hardcode this.
            //TODO: Make sure they don't enter the same key for both searches
            list: keys,
            minChars: 0,
            maxItems: keys.length,
        });
        Awesomplete.$('.dropdown-btn-y').addEventListener("click", function() {
            if (combopleteY.ul.childNodes.length === 0) {
                combopleteY.minChars = 0;
                combopleteY.evaluate();
            }
            else if (combopleteY.ul.hasAttribute('hidden')) {
                combopleteY.open();
            }
            else {
                combopleteY.close();
            }
        });
    </script>
</body>
</html>

<!-- <script>
$(document).ready(function(){
    document.querySelector('#show-data-avg').innerHTML = 'IS THIS NEW?';
});
</script> -->